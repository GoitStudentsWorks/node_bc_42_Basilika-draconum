"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[953],{953:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ie}});var s=a(9439),n=a(2791),o=a(9434),i=a(4454),r=a(1710);var l=a.p+"static/media/svg.18ea801ad99b0d5e8719014ba11dac50.svg",c="columnHeadBar_columnHeadBar__hLJMw",d="columnHeadBar_columnHeadBar__Text__cST6g",u="columnHeadBar_addTaskBtnIcon__FjgsR",m="columnHeadBar_addTaskBtnIcon__icon__yHsQB",_=a(184),h=function(e){var t=e.title,a=e.openModal;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)("h3",{className:d,children:t}),(0,_.jsx)("button",{className:u,onClick:a,children:(0,_.jsx)("svg",{className:m,alt:"open modal for add task",children:(0,_.jsx)("use",{href:"".concat(l,"#roundPlus")})})})]})})},f="TaskToolbar_toolbar__VO143",p="TaskToolbar_toolbar__btn__epBM5",x="TaskToolbar_toolbar__svg__fXme-",k="TaskToolbar_statusModal__4vFE9",v="TaskToolbar_statusModal__btn__5efPR",j="TaskToolbar_statusModal__container__f+Wy1",g="TaskToolbar_statusModal__status__dKakX",N="TaskConfirmationModal_confirmation__container__U3jrn",y="TaskConfirmationModal_confirmation__title__Xyqyy",b="TaskConfirmationModal_confirmation__btnContainer__+52aE",T="TaskConfirmationModal_confirmation__btn__4rzQ1",C=a(3800),w=function(e){var t=e.confirmationModalOpen,a=e.task,s=(0,o.I0)(),n=function(e){"yes"===e.currentTarget.id&&s((0,C.YZ)(a._id)),t()};return(0,_.jsxs)("div",{className:N,children:[(0,_.jsx)("p",{className:y,children:"Are you confirming the deletion?"}),(0,_.jsxs)("div",{className:b,children:[(0,_.jsx)("div",{children:(0,_.jsx)("button",{className:T,onClick:n,id:"yes",children:"Yes"})}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{className:T,onClick:n,id:"no",children:"No"})})]})]})},F=a(7950);var I=a.p+"static/media/icons.178339f33ae92ff52ddea7e3f1de6d7d.svg",S=a(1686),B=a.n(S),M=function(e){var t=e.task,a=(0,n.useState)(!1),i=(0,s.Z)(a,2),r=i[0],l=i[1],c=(0,n.useState)(!1),d=(0,s.Z)(c,2),u=d[0],m=d[1],h=(0,n.useState)(!1),N=(0,s.Z)(h,2),y=N[0],b=N[1],T=(0,o.I0)(),S=function(e){return"toDo"===e?"To do":"inProgress"===e?"In progress":"done"===e?"Done":"To do"===e?"toDo":"In progress"===e?"inProgress":"Done"===e?"done":void 0},M=S(t.status),Z=function(){l(!1),m(!1),b((function(e){return!e}))};return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("button",{className:p,onClick:function(){b(!1),m(!1),l((function(e){return!e}))},children:(0,_.jsx)("svg",{className:x,children:(0,_.jsx)("use",{xlinkHref:I+"#icon-round-arrow"})})}),r&&(0,_.jsx)("div",{className:k,"data-modal":"true",children:["To do","In progress","Done"].filter((function(e){return e!==M})).map((function(e){return(0,_.jsx)("button",{className:v,onClick:function(){return function(e){e=S(e),T((0,C.o4)({status:e,id:t._id})),B().Notify.success('Status changed to "'.concat(e,'"')),l(!1)}(e)},children:(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("p",{className:g,children:e}),(0,_.jsx)("svg",{className:x,children:(0,_.jsx)("use",{xlinkHref:I+"#icon-round-arrow"})})]})},e)}))}),(0,_.jsx)("button",{className:p,onClick:function(){return t._id,b(!1),l(!1),void m((function(e){return!e}))},children:(0,_.jsx)("svg",{className:x,children:(0,_.jsx)("use",{xlinkHref:I+"#icon-pencil"})})}),u&&(0,_.jsx)(F.Z,{closeModal:function(e){e.target===e.currentTarget&&m(!u)},task:t}),(0,_.jsx)("button",{className:p,onClick:Z,children:(0,_.jsx)("svg",{className:x,children:(0,_.jsx)("use",{xlinkHref:I+"#icon-trash"})})}),y&&(0,_.jsx)(w,{confirmationModalOpen:Z,task:t})]})})},Z="taskColumnCard_tasksCard__UghyB",L="taskColumnCard_tasksCard__text__IbHkx",H="taskColumnCard_tasksCard__bottomWrap__CFtCK",P="taskColumnCard_tasksCard__riority__jjIk5",E=function(e){var t,a=e.task,s="low"===(t=null===a||void 0===a?void 0:a.priority)?"var(--bgColor-range-low)":"medium"===t?"var(--bgColor-range-medium)":"high"===t?"var(--bgColor-range-high)":void 0;return(0,_.jsxs)("li",{className:Z,children:[(0,_.jsx)("p",{className:L,children:null===a||void 0===a?void 0:a.title}),(0,_.jsxs)("div",{className:H,children:[(0,_.jsx)("span",{style:{backgroundColor:s},className:P,children:null===a||void 0===a?void 0:a.priority}),(0,_.jsx)(M,{task:a})]})]})},D="columnsTasksList_taskslistSWrap__o4U5D",W=function(e){var t=e.tasks;return(0,_.jsx)("ul",{className:D,children:t&&(null===t||void 0===t?void 0:t.map((function(e){return(0,_.jsx)(E,{task:e},null===e||void 0===e?void 0:e._id)})))})},O="addTaskBtn_addTaskBtn__2OIaZ",V="addTaskBtn_addTaskBtn__text__IvVco",U="addTaskBtn_addTaskBtn__icon__ckPF-",A=function(e){var t=e.openModal;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("button",{className:O,onClick:t,children:[(0,_.jsx)("svg",{className:U,alt:"plus",children:(0,_.jsx)("use",{href:"".concat(l,"#plus")})}),(0,_.jsx)("span",{className:V,children:"Add task"})]})})},G="tasksColumn_tasksColumnWrap__GqliE",z=a(7233),X=a(7892),$=a.n(X),q=a(9778);var R=a.p+"static/media/closeModal.e62ee849578c86e328348b993a5baf49.svg";var Y=a.p+"static/media/plus.d87c447cd5dc94d81d467fe6fd7bdfac.svg",J={backdrop:"TaskForm_backdrop__G0vvY",popup:"TaskForm_popup__zXuZU",popupForm:"TaskForm_popupForm__GhPwU",titleLabel:"TaskForm_titleLabel__9fN1V",timePickersWrapper:"TaskForm_timePickersWrapper__AYbrx",timePickerLabel:"TaskForm_timePickerLabel__6Oncx",timePicker:"TaskForm_timePicker__AHb-Z",radioGroup:"TaskForm_radioGroup__XOHBr",radioButton:"TaskForm_radioButton__0aTxY",radioInput:"TaskForm_radioInput__riSWG",buttonWrapper:"TaskForm_buttonWrapper__Fr6gS",submitButton:"TaskForm_submitButton__VLuaT",submitButton__icon:"TaskForm_submitButton__icon__afso5",cancelButton:"TaskForm_cancelButton__UZ6u7",closeButton:"TaskForm_closeButton__O6NaZ",close_icon:"TaskForm_close_icon__7CrV1",title:"TaskForm_title__5-Jtq",start:"TaskForm_start__tzUg3",end:"TaskForm_end__NVmxT",closeButton_icon:"TaskForm_closeButton_icon__+TXEm"};var K=function(e){var t=e.task,a=e.closeModal,l=e.type,c=(0,o.v9)(r.i),d=(0,n.useState)(t?t.start:$()("".concat(c," 09:00"))),u=(0,s.Z)(d,2),m=u[0],h=u[1],f=(0,n.useState)(t?t.end:$()("".concat(c," 09:00"))),p=(0,s.Z)(f,2),x=p[0],k=p[1],v=(0,n.useState)(t?t.priority:"low"),j=(0,s.Z)(v,2),g=j[0],N=j[1],y=(0,n.useState)(t?t.title:""),b=(0,s.Z)(y,2),T=b[0],w=b[1];(0,n.useEffect)((function(){h($()("".concat(c," 9:00"))),k($()("".concat(c," 12:00")))}),[c]);var F=(0,o.I0)(),I=function(e){N(e.target.value)},S=(0,o.v9)(i.p),M=function(){a(!1)};return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("form",{action:"",className:J.popupForm,onSubmit:function(e){e.preventDefault();var t=function(e){return"To do"===e?"toDo":"In progress"===e?"inProgress":"Done"===e?"done":void 0}(l);if(T.length>250)B().Notify.failure("Exceeded maximum length of 250 characters");else{var a={date:{start:m,end:x},priority:g,title:T,status:t};S.find((function(e){return e.title.toLowerCase()===T.toLowerCase()&&e.date.start.slice(0,10)===c}))?B().Notify.failure("".concat(T," is already added.")):m>=x?B().Notify.warning("Incorrect time of the event"):(F((0,C.gI)(a)).unwrap().then((function(){return M()})),w(""))}},children:[(0,_.jsxs)("label",{htmlFor:"start",className:J.titleLabel,children:[(0,_.jsx)("p",{className:J.title,children:"Title"}),(0,_.jsx)("input",{name:"title",type:"text",placeholder:"Enter text",value:T,onChange:function(e){w(e.target.value)}})]}),(0,_.jsxs)("div",{className:J.timePickersWrapper,children:[(0,_.jsxs)("label",{htmlFor:"title",className:J.timePickerLabel,children:[(0,_.jsx)("p",{className:J.start,children:"Start"}),(0,_.jsx)(z.Z,{name:"start",onChange:function(e,t){h($()("".concat(c," ").concat(t)))},value:m,defaultValue:"08:00",format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:J.timePicker,placement:"bottomLeft"})]}),(0,_.jsxs)("label",{htmlFor:"end",className:J.timePickerLabel,children:[(0,_.jsx)("p",{className:J.end,children:"End"}),(0,_.jsx)(z.Z,{name:"end",onChange:function(e,t){k($()("".concat(c," ").concat(t)))},value:x,defaultValue:"12:00",format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:J.timePicker})]})]}),(0,_.jsxs)("div",{className:J.radioGroup,children:[(0,_.jsxs)("div",{className:J.radioButton,children:[(0,_.jsx)("input",{type:"radio",id:"low",name:"priority",value:"low",checked:"low"===g,onChange:I,className:J.radioInput}),(0,_.jsx)("label",{htmlFor:"low",id:"low",children:"Low"})]}),(0,_.jsxs)("div",{className:J.radioButton,children:[(0,_.jsx)("input",{type:"radio",id:"medium",name:"priority",value:"medium",checked:"medium"===g,onChange:I,className:J.radioInput}),(0,_.jsx)("label",{htmlFor:"medium",id:"medium",children:"Medium"})]}),(0,_.jsxs)("div",{className:J.radioButton,children:[(0,_.jsx)("input",{type:"radio",id:"high",name:"priority",value:"high",checked:"high"===g,onChange:I,className:J.radioInput}),(0,_.jsx)("label",{htmlFor:"high",id:"high",children:"High"})]})]}),t?(0,_.jsx)("button",{type:"button",className:J.editButton,children:"Edit"}):(0,_.jsxs)("div",{className:J.buttonWrapper,children:[(0,_.jsxs)("button",{type:"submit",className:J.submitButton,children:[(0,_.jsx)("svg",{className:J.submitButton__icon,alt:"plus",children:(0,_.jsx)("use",{href:"".concat(Y,"#plus")})}),"Add"]}),(0,_.jsx)("button",{type:"button",className:J.cancelButton,onClick:function(){(0,q.w)(!1),a(!1)},children:"Cancel"})]}),(0,_.jsx)("button",{type:"button",onClick:M,className:J.closeButton,children:(0,_.jsx)("svg",{className:J.closeButton_icon,children:(0,_.jsx)("use",{href:"".concat(R,"#icon-Vector")})})})]})})},Q="Modal_overlay__fT+Wg",ee="Modal_modal__zFGJS",te=a(4164),ae=document.querySelector("body"),se=document.getElementById("modal"),ne=function(e){var t=e.children,a=e.setActive;return(0,n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e),ae.classList.toggle("no-scroll")}}),[a]),(0,te.createPortal)((0,_.jsx)("div",{className:Q,onClick:function(){return a(!1)},children:(0,_.jsx)("div",{className:ee,onClick:function(e){return e.stopPropagation()},children:t})}),se)},oe=function(e){var t=e.title,a=e.tasks,o=(0,n.useState)(!1),i=(0,s.Z)(o,2),r=i[0],l=i[1],c=function(){l((function(e){return!e}))};return(0,_.jsxs)("li",{className:G,children:[(0,_.jsx)(h,{title:t,openModal:c}),0!==(null===a||void 0===a?void 0:a.length)&&(0,_.jsx)(W,{tasks:a,progressType:t}),(0,_.jsx)(A,{text:"Add task",icon:"plus",openModal:c}),r&&(0,_.jsx)(ne,{active:r,setActive:l,children:(0,_.jsx)(K,{closeModal:l,type:t})})]})},ie="tasksColumnsList_wrap__L3cT7",re="tasksColumnsList_list__L13HL",le=function(e){var t=e.tasks,a=null===t||void 0===t?void 0:t.filter((function(e){return"toDo"===e.status})),s=null===t||void 0===t?void 0:t.filter((function(e){return"inProgress"===e.status})),n=null===t||void 0===t?void 0:t.filter((function(e){return"done"===e.status}));return(0,_.jsx)("div",{className:ie,children:(0,_.jsxs)("ul",{className:re,children:[(0,_.jsx)(oe,{title:"To do",tasks:a}),(0,_.jsx)(oe,{title:"In progress",tasks:s}),(0,_.jsx)(oe,{title:"Done",tasks:n})]})})},ce=a(7689),de=a(9772),ue=a(3216),me=a(1951),_e=a(9040),he=a(1002),fe=a(1104),pe=a(8527),xe=a(4522),ke=a(9297);function ve(e,t){if((0,xe.Z)(2,arguments),!t||"object"!==(0,he.Z)(t))return new Date(NaN);var a=t.years?(0,ke.Z)(t.years):0,s=t.months?(0,ke.Z)(t.months):0,n=t.weeks?(0,ke.Z)(t.weeks):0,o=t.days?(0,ke.Z)(t.days):0,i=t.hours?(0,ke.Z)(t.hours):0,r=t.minutes?(0,ke.Z)(t.minutes):0,l=t.seconds?(0,ke.Z)(t.seconds):0,c=(0,pe.default)(e),d=s||a?(0,fe.default)(c,s+12*a):c,u=o||n?(0,_e.default)(d,o+7*n):d,m=r+60*i,_=l+60*m,h=1e3*_,f=new Date(u.getTime()+h);return f}var je=a(8897),ge="day-calendar_dayCalendarHeadList__zTw2D",Ne="day-calendar_dayCalendarHeadItem__z5Ea+",ye="day-calendar_daysOfWeek__IR3vn",be="day-calendar_daysWeekend__uC+-r",Te="day-calendar_choosedDay__6kVxn",Ce="day-calendar_dayCalendarHeadBtn__z3gOT",we=function(){for(var e=(0,de.Z)("(max-width: 767.9px)"),t=(0,o.v9)(r.i),a=(0,ce.s0)(),s=(0,o.I0)(),n=(0,ue.default)(t,"yyyy-MM-dd",Date.now()),i=function(e){switch(e){case"MON":default:return 0;case"TUE":return 1;case"WED":return 2;case"THU":return 3;case"FRI":return 4;case"SAT":return 5;case"SUN":return 6}}((0,me.default)(n,"eee").slice(0,3).toUpperCase()),l=(0,_e.default)(n,-i),c=[],d=0;d<7;d++)c.push(ve(l,{days:d}));return(0,_.jsx)("ul",{className:ge,children:c.map((function(n){return(0,_.jsxs)("li",{className:Ne,children:[(0,_.jsx)("p",{className:"S"===(0,me.default)(n,"eee").slice(0,1)?be:ye,children:e?(0,me.default)(n,"eee").slice(0,1):(0,me.default)(n,"eee").toUpperCase()}),(0,_.jsx)("button",{className:t!==(0,me.default)(n,"yyyy-MM-dd")?Ce:Te,type:"button",onClick:function(){return e=n,s((0,je.G)((0,me.default)(e,"yyyy-MM-dd"))),void a("/calendar/day/".concat((0,me.default)(e,"yyyy-MM-dd")));var e},children:(o=(0,me.default)(n,"dd"),o.startsWith("0")?o.slice(1):o)})]},n);var o}))})},Fe="choosedDay_wrapChooseDay__-V+w2",Ie=function(){var e=(0,o.v9)(i.p),t=(0,o.v9)(r.i),a=(0,n.useState)(),l=(0,s.Z)(a,2),c=l[0],d=l[1],u=new Date("".concat(t)).toISOString().slice(0,10);return(0,n.useEffect)((function(){var t=null===e||void 0===e?void 0:e.filter((function(e){return e.date.start.slice(0,10)===u}));d(t)}),[u,e,t]),(0,_.jsxs)("section",{className:Fe,children:[(0,_.jsx)(we,{}),(0,_.jsx)(le,{tasks:c})]})}},7950:function(e,t,a){a.d(t,{Z:function(){return I}});var s=a(9439),n=a(2791),o=a(4164),i=a(9434),r=a(7233),l=a(7892),c=a.n(l),d=a(5264),u=a(3800),m="modal-edit_overlay__dzW+7",_="modal-edit_modalEditWrapper__hTuoj",h="modal-edit_popupForm__xVtk5",f="modal-edit_titleLabel__ocZyf",p="modal-edit_timePickersWrapper__4VkTe",x="modal-edit_timePickerLabel__xvyPU",k="modal-edit_timePicker__X+tMC",v="modal-edit_radioGroup__u1Haa",j="modal-edit_radioButton__NIA8Q",g="modal-edit_radioInput__q8KkM",N="modal-edit_btnEdit__hjVmQ",y="modal-edit_modalIcon__wZI0R",b="modal-edit_closeBtn__ySAS4",T="modal-edit_title__KsOwg",C="modal-edit_start__c3dyM",w="modal-edit_end__Mk+tb",F=a(184),I=function(e){var t=e.task,a=e.closeModal,l=(0,n.useState)(!1),I=(0,s.Z)(l,1)[0],S=(0,i.I0)(),B=(0,n.useState)(t.title),M=(0,s.Z)(B,2),Z=M[0],L=M[1],H=(0,n.useState)(c()(t.date.start)),P=(0,s.Z)(H,2),E=P[0],D=P[1],W=(0,n.useState)(c()(t.date.end)),O=(0,s.Z)(W,2),V=O[0],U=O[1],A=(0,n.useState)(t.priority),G=(0,s.Z)(A,2),z=G[0],X=G[1],$=function(e){X(e.target.id)},q=function(){a(!1)},R=(0,F.jsx)("div",{className:m,onClick:a,children:(0,F.jsx)("div",{className:_,children:(0,F.jsxs)("form",{action:"",className:h,children:[(0,F.jsx)("button",{type:"button",onClick:q,className:b,children:(0,F.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,F.jsx)("title",{children:"button-close"}),(0,F.jsx)("path",{strokeLinejoin:"round",strokeLinecap:"round",strokeMiterlimit:"4",strokeWidth:"3.2",d:"M24 8l-16 16"}),(0,F.jsx)("path",{strokeLinejoin:"round",strokeLinecap:"round",strokeMiterlimit:"4",strokeWidth:"3.2",d:"M8 8l16 16"})]})}),(0,F.jsxs)("label",{htmlFor:"start",className:f,children:[(0,F.jsx)("p",{className:T,children:"Title"}),(0,F.jsx)("input",{name:"title",type:"text",placeholder:"Enter text",value:Z,maxLength:"250",autoFocus:!0,onChange:function(e){L(e.target.value)}})]}),(0,F.jsxs)("div",{className:p,children:[(0,F.jsxs)("label",{htmlFor:"title",className:x,children:[(0,F.jsx)("p",{className:C,children:"Start"}),(0,F.jsx)(r.Z,{name:"start",onChange:function(e){D(c()(e,"H:mm"))},value:E,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:k,placement:"bottomLeft"})]}),(0,F.jsxs)("label",{htmlFor:"end",className:x,children:[(0,F.jsx)("p",{className:w,children:"End"}),(0,F.jsx)(r.Z,{name:"end",onChange:function(e){U(c()(e,"H:mm"))},value:V,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:k})]})]}),(0,F.jsxs)("div",{className:v,children:[(0,F.jsxs)("div",{className:j,children:[(0,F.jsx)("input",{type:"radio",id:"low",name:"priority",className:g,value:z,onChange:$,checked:"low"===z?"checked":""}),(0,F.jsx)("label",{htmlFor:"low",id:"low",children:"Low"})]}),(0,F.jsxs)("div",{className:j,children:[(0,F.jsx)("input",{type:"radio",id:"medium",name:"priority",className:g,value:z,onChange:$,checked:"medium"===z?"checked":""}),(0,F.jsx)("label",{htmlFor:"medium",id:"medium",children:"Medium"})]}),(0,F.jsxs)("div",{className:j,children:[(0,F.jsx)("input",{type:"radio",id:"high",name:"priority",className:g,value:z,onChange:$,checked:"high"===z?"checked":""}),(0,F.jsx)("label",{htmlFor:"high",id:"high",children:"High"})]})]}),(0,F.jsxs)("button",{type:"submit",className:N,onClick:function(e){e.preventDefault();var a=t._id,s=E.$d.toISOString(),n=V.$d.toISOString(),o={title:Z,status:t.status,priority:z,date:{start:s,end:n}};Z!==t.title||E.$d.toISOString()!==c()(t.date.start).$d.toISOString()||V.$d.toISOString()!==c()(t.date.end).$d.toISOString()||z!==t.priority?s>=n?d.Notify.warning("Incorrect time of the event"):(q(),S((0,u.D6)({id:a,dataTask:o})).unwrap().then((function(){S((0,u.Jv)())}))):d.Notify.warning("Try to change something first.")},children:[(0,F.jsx)("div",{className:y}),"Edit"]})]})})});return I?null:(0,o.createPortal)(R,document.getElementById("modal"))}}}]);
//# sourceMappingURL=953.50bc7f7b.chunk.js.map