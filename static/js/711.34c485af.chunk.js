"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[711],{7711:function(e,a,r){r.r(a),r.d(a,{default:function(){return g}});var n=r(5861),t=r(9439),s=r(4687),o=r.n(s),l=r(2791),i=r(9434),m=r(5705),c=r(1686),d=r.n(c),u=r(9513),f=r.n(u),p=(r(8639),r(3853)),h=r(8820),v=r(4289),_=r(8630),x={profilePageContainer:"UserProfile_profilePageContainer__U5i5X",wrapper:"UserProfile_wrapper__pgkFI",form:"UserProfile_form__hQ3Hr",formAvatar:"UserProfile_formAvatar__MZn6c",containerAvatar:"UserProfile_containerAvatar__JP+7F",avatarImage:"UserProfile_avatarImage__um3Q0",inputUpload:"UserProfile_inputUpload__zBtHe",btnUpload:"UserProfile_btnUpload__2auCx",avatarName:"UserProfile_avatarName__pbfF+",avatarRole:"UserProfile_avatarRole__4yvl+",formCenter:"UserProfile_formCenter__rv5jM",formRow:"UserProfile_formRow__XgjF6",formLabel:"UserProfile_formLabel__bcgnV",formInput:"UserProfile_formInput__zwMTk",formBtn:"UserProfile_formBtn__t7j26",dateIcon:"UserProfile_dateIcon__lxV9M",formError:"UserProfile_formError__SxKr0",customCalendarStyle:"UserProfile_customCalendarStyle__TtfuF"},b=r(6727),y=b.Ry({name:b.Z_().max(16,"Must be 16 characters or less").required(),phone:b.Z_().matches(/(?=.*\+[0-9]{3}\s?[0-9]{2}\s?[0-9]{3}\s?[0-9]{4,5}$)/,"invalid phone number format"),birthday:b.hT().default((function(){return new Date})),email:b.Z_().email("Invalid email address").required("Required"),skype:b.Z_().min(6,"Must be 6 characters or more").max(16,"Must be 16 characters or less")}),N=r(184),j=function(){var e=(0,l.useState)(null),a=(0,t.Z)(e,2),r=a[0],s=a[1],c=(0,l.useState)(!1),u=(0,t.Z)(c,2),b=u[0],j=u[1],g=(0,l.useState)(!1),U=(0,t.Z)(g,2),w=U[0],k=U[1],P=(0,i.v9)(v.PR),C=(0,i.I0)();(0,l.useEffect)((function(){w&&(C((0,_.RZ)()),k(!1))}),[C,w]);var R=function(){j(!0)},I=function(){var e=(0,n.Z)(o().mark((function e(a,n){var t,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.resetForm,s={name:a.name,phone:a.phone,email:a.email,skype:a.skype,birthday:a.birthday},(l=new FormData).append("avatar",r),e.prev=4,!r){e.next=8;break}return e.next=8,C((0,_.Pt)(l));case 8:return e.next=10,C((0,_.q)(s));case 10:d().Notify.success("User profile is succesfully updated"),k(!0),j(!1),t(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),d().Notify.failure("Something went wrong. Please try again");case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(a,r){return e.apply(this,arguments)}}();return(0,N.jsx)("div",{className:x.profilePageContainer,children:(0,N.jsx)("div",{className:x.wrapper,children:(0,N.jsx)(m.J9,{enableReinitialize:!0,initialValues:{name:P.name||"",phone:P.phone?P.phone:"",birthday:P.birthday?new Date(P.birthday):new Date,skype:P?P.skype:"",email:P?P.email:""},validationSchema:y,onSubmit:I,children:function(e){var a=e.values,n=e.handleChange,t=e.handleBlur,o=e.handleSubmit;return(0,N.jsxs)(m.l0,{autoComplete:"off",className:x.form,onSubmit:o,children:[(0,N.jsxs)("div",{className:x.formAvatar,children:[(0,N.jsxs)("div",{className:x.containerAvatar,children:[r?(0,N.jsx)("img",{src:URL.createObjectURL(r),className:x.avatarImage,accept:"image/*,.png,.jpg,.gif,.web",alt:"avatar"}):null!==P&&void 0!==P&&P.avatarURL?(0,N.jsx)("img",{src:null===P||void 0===P?void 0:P.avatarURL,className:x.avatarImage,alt:"avatar"}):(0,N.jsx)(h.nf1,{className:x.avatarIcon}),(0,N.jsxs)("label",{htmlFor:"avatar",children:[(0,N.jsx)("button",{className:x.btnUpload,children:(0,N.jsx)(p.OvN,{})}),(0,N.jsx)("input",{className:x.inputUpload,id:"avatar",type:"file",onChange:function(e){s(e.target.files[0]),n(e),R()},accept:"image/*,.png,.jpg,.gif,.web",name:"avatar"})]})]}),(0,N.jsx)("h3",{className:x.avatarName,children:P.name?P.name:"No name"}),(0,N.jsx)("span",{className:x.avatarRole,children:"User"})]}),(0,N.jsxs)("div",{className:x.formCenter,children:[(0,N.jsxs)("div",{className:x.formRow,children:[(0,N.jsx)("label",{className:x.formLabel,htmlFor:"name",children:"User Name"}),(0,N.jsx)("input",{type:"text",name:"name",id:"name",className:x.formInput,value:a.name,onChange:function(e){n(e),R()},onBlur:t,placeholder:"Name"}),(0,N.jsx)(m.Bc,{component:"div",className:x.formError,name:"name"})]}),(0,N.jsxs)("div",{className:x.formRow,children:[(0,N.jsx)("label",{className:x.formLabel,htmlFor:"phone",children:"Phone"}),(0,N.jsx)("input",{type:"tel",name:"phone",id:"phone",className:x.formInput,value:a.phone,onChange:function(e){n(e),R()},onBlur:t,placeholder:"+380"}),(0,N.jsx)(m.Bc,{component:"div",className:x.formError,name:"phone"})]}),(0,N.jsxs)("div",{className:x.formRow,children:[(0,N.jsx)(p.bTu,{className:x.dateIcon}),(0,N.jsx)("label",{className:x.formLabel,htmlFor:"birthday",children:"Birthday"}),(0,N.jsx)(f(),{type:"date",name:"birthday",id:"birthday",input:!0,formatWeekDay:function(e){return e.slice(0,1)},dayClassName:function(e){return function(e){var a=e.getDay();return 0===a||6===a}(e)?"weekend-day":void 0},className:x.formInput,calendarClassName:x.customCalendarStyle,selected:a.birthday,onChange:function(e){n({target:{name:"birthday",value:e}}),R()},dateFormat:"dd/MM/yyyy",calendarStartDay:1,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",closeOnScroll:function(e){return e.target===document}}),(0,N.jsx)(m.Bc,{className:x.formError,name:"birthday"})]}),(0,N.jsxs)("div",{className:x.formRow,children:[(0,N.jsx)("label",{className:x.formLabel,htmlFor:"skype",children:"Skype"}),(0,N.jsx)("input",{type:"text",name:"skype",id:"skype",className:x.formInput,placeholder:"Skype number or username",value:a.skype,onChange:function(e){n(e),R()},onBlur:t}),(0,N.jsx)(m.Bc,{component:"div",className:x.formError,name:"skype"})]}),(0,N.jsxs)("div",{className:x.formRow,children:[(0,N.jsx)("label",{className:x.formLabel,htmlFor:"email",children:"Email"}),(0,N.jsx)("input",{type:"email",name:"email",id:"email",className:x.formInput,placeholder:"Email",value:a.email,onChange:function(e){n(e),R()},onBlur:t}),(0,N.jsx)(m.Bc,{component:"div",className:x.formError,name:"email"})]})]}),(0,N.jsx)("button",{className:x.formBtn,type:"submit",disabled:!b,children:"Save changes"})]})}})})})},g=function(){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(j,{})})}}}]);
//# sourceMappingURL=711.34c485af.chunk.js.map